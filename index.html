<!DOCTYPE html>
<html lang="en" ng-app=>
<head>
  <title>Slumber Party</title>
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/fancyInput.css">
  
  <script src="lib/jquery.js"></script>
  <script src="lib/bootstrap.js"></script>
  
  <script src='lib/quintus.js'></script>
  <script src='lib/quintus_sprites.js'></script>
  <script src='lib/quintus_scenes.js'></script>
  <script src='lib/quintus_input.js'></script>
  <script src='lib/quintus_anim.js'></script>
  <script src='lib/quintus_2d.js'></script>
  <script src='lib/quintus_touch.js'></script>
  <script src='lib/quintus_ui.js'></script>
  <script src='lib/quintus_audio.js'></script>
  <script src='lib/quintus_tmx.js'></script>
  <script src='lib/firebase.js'></script>  


  <script src='lib/raphael.js'></script>
  
  <!--
  <script type='text/javascript' src='https://cdn.firebase.com/js/client/1.0.2/firebase.js'></script>
  -->
  
    
  <script src="app/game.js" type="text/javascript"></script>
  
  <script>
    $(document).unbind('keydown').bind('keydown', function (event) {
      var doPrevent = false;
      if (event.keyCode === 8) {
        var d = event.srcElement || event.target;
        if ((d.tagName.toUpperCase() === 'INPUT' && (d.type.toUpperCase() === 'TEXT' || d.type.toUpperCase() === 'PASSWORD')) 
          || d.tagName.toUpperCase() === 'TEXTAREA') {
          doPrevent = d.readOnly || d.disabled;
      }
      else {
        doPrevent = true;
      }
    }

    if (doPrevent) {
      event.preventDefault();
    }
  });
  </script>


</head>
<body>

  <div class="jumbotron" id="title">
    <h1><img src="images/title.png"></h1>
  </div>
  <div class="input" id="namebox">
    <div class="fancyInput">
      <input id='name' type="text" placeholder="Your Name Here">
    </div>
  </div>
  <div class="container nopadding">
    <div class="row nopadding">
      <div id="console">
        <!-- top body -->
        <div id="canvas_game">
          <canvas id="game"> </canvas>
        </div>
      </div>
      <div id="playerHP" class="200x160px"></div>
      <div id="opponentHP" class="200x160px"></div>
      
    </div>
  </div>
  <script src='lib/fancyInput.js'></script>
  <script>
    $('#game').hide();
    $('div :input').fancyInput();
  </script>

  <script>
    var slumberUsersRef = new Firebase('https://slumberparty.firebaseIO.com/users');
    var playerName = '';
    var UUID = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
      return v.toString(16);
    });
    document.getElementById('name').onkeypress = function(e){
    if (!e) e = window.event;
    var keyCode = e.keyCode || e.which;
    if (keyCode == '13'){
      playerName = document.getElementById('name').value.toString();
      var con = slumberUsersRef.push({'name': playerName, 'UUID': UUID});
      con.onDisconnect().remove();
      $('#namebox').hide();
      $('#title').hide();
      $('#game').show();
      return false;
    }
  }
  </script>
  <script src='lib/justgage.js'></script>
  <script>
    var playerGage = new JustGage({
    id:"playerHP",
    value: 50,
    gaugeWidthScale: 0.5,
    valueFontColor: "#FFFFFF",
    levelColors: ["#E63922", "#E8D548", "#45BD24"],
    min: 0,
    max: 100,
    title: ' ',
    });

    var opponentGage = new JustGage({
    id:"opponentHP",
    value: 50,
    gaugeWidthScale: 0.5,
    valueFontColor: "#FFFFFF",
    levelColors: ["#E63922", "#E8D548", "#45BD24"],
    min: 0,
    max: 100,
    title: ' ',
    });
  </script>

</body>


</html>